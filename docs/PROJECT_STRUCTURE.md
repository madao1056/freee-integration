# freee API é€£æºãƒ„ãƒ¼ãƒ« - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

## ğŸ“ æ•´ç†å¾Œã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
freee/
â”œâ”€â”€ src/                     # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ main.js             # ğŸ¯ ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ api/                # freee APIé–¢é€£
â”‚   â”‚   â”œâ”€â”€ test_api.js     # APIå‹•ä½œç¢ºèª
â”‚   â”‚   â”œâ”€â”€ get_companies.js # äº‹æ¥­æ‰€æƒ…å ±å–å¾—
â”‚   â”‚   â””â”€â”€ get_account_items.js # å‹˜å®šç§‘ç›®å–å¾—
â”‚   â”œâ”€â”€ sheets/             # Google Sheetsé€£æº
â”‚   â”‚   â”œâ”€â”€ import_from_sheets.js # ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆâ†’freee
â”‚   â”‚   â””â”€â”€ add_sample_data.js    # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿è¿½åŠ 
â”‚   â”œâ”€â”€ drive/              # Google Driveé€£æº  
â”‚   â”‚   â”œâ”€â”€ upload_receipts.js    # ãƒ¬ã‚·ãƒ¼ãƒˆâ†’freeeã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ check_drive_folders.js # ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ç¢ºèª
â”‚   â””â”€â”€ utils/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â”œâ”€â”€ test_service_account.js # Googleèªè¨¼ãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ check_permissions.js    # æ¨©é™ç¢ºèª
â”œâ”€â”€ docs/                   # ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ README.md          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ï¼ˆæ–°è¦ä½œæˆï¼‰
â”‚   â”œâ”€â”€ SERVICE_ACCOUNT_SETUP.md # Googleèªè¨¼è¨­å®š
â”‚   â””â”€â”€ google_sheets_setup.md   # Sheetsè¨­å®šæ‰‹é †
â”œâ”€â”€ config/                 # âš™ï¸ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ api-schema.json    # freee APIä»•æ§˜
â”œâ”€â”€ data/                   # ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”Ÿæˆã•ã‚Œã‚‹ï¼‰
â”‚   â”œâ”€â”€ processed_receipts.json # å‡¦ç†æ¸ˆã¿ãƒ¬ã‚·ãƒ¼ãƒˆè¨˜éŒ²
â”‚   â””â”€â”€ account_items.json      # å‹˜å®šç§‘ç›®ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ service-account-key.json # ğŸ” Googleèªè¨¼ã‚­ãƒ¼
â”œâ”€â”€ .env                    # ğŸ”’ ç’°å¢ƒå¤‰æ•°
â”œâ”€â”€ .gitignore             # Gité™¤å¤–è¨­å®š
â”œâ”€â”€ package.json           # Node.jsè¨­å®š
â””â”€â”€ CLAUDE.md              # Claudeè¨­å®š
```

## ğŸš€ æ–°ã—ã„ä½¿ç”¨æ–¹æ³•

### ãƒ¡ã‚¤ãƒ³ã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
node src/main.js help

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
node src/main.js setup
```

### æ©Ÿèƒ½åˆ¥ã‚³ãƒãƒ³ãƒ‰

#### ğŸ“Š Google Sheetsé€£æº
```bash
# ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿è¿½åŠ 
node src/main.js sheets:sample [ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID]

# ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰freeeã«å–å¼•ç™»éŒ²
node src/main.js sheets:import [ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID]
```

#### ğŸ“„ Google Driveé€£æº
```bash
# ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ç¢ºèª
node src/main.js drive:check

# ãƒ¬ã‚·ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆå…¨æœˆï¼‰
node src/main.js drive:upload

# ãƒ¬ã‚·ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆç‰¹å®šæœˆï¼‰
node src/main.js drive:upload 2025.12
```

#### ğŸ”§ freee APIæ“ä½œ
```bash
# APIå‹•ä½œç¢ºèª
node src/main.js api:test

# äº‹æ¥­æ‰€æƒ…å ±å–å¾—
node src/main.js api:companies

# å‹˜å®šç§‘ç›®ä¸€è¦§å–å¾—
node src/main.js api:accounts
```

#### âš™ï¸ è¨­å®šãƒ»ãƒ†ã‚¹ãƒˆ
```bash
# Googleèªè¨¼ãƒ†ã‚¹ãƒˆ
node src/main.js auth:test

# æ¨©é™ç¢ºèªï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDæŒ‡å®šï¼‰
node src/main.js auth:test [ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID]
```

## ğŸ“¦ npm scripts

```bash
# åŸºæœ¬æ“ä½œ
npm start                    # ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
npm test                     # freee APIå‹•ä½œç¢ºèª
npm run setup                # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

# æ©Ÿèƒ½åˆ¥
npm run sheets:import        # ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æº
npm run drive:upload         # ãƒ¬ã‚·ãƒ¼ãƒˆä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

## ğŸ”„ æ•´ç†ã«ã‚ˆã‚‹æ”¹å–„ç‚¹

### Beforeï¼ˆæ•´ç†å‰ï¼‰
- âŒ å…¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ«ãƒ¼ãƒˆã«æ··åœ¨
- âŒ æ©Ÿèƒ½ãŒåˆ†ã‹ã‚Šã«ãã„
- âŒ å®Ÿè¡Œæ–¹æ³•ãŒãƒãƒ©ãƒãƒ©

### Afterï¼ˆæ•´ç†å¾Œï¼‰  
- âœ… æ©Ÿèƒ½åˆ¥ã«ãƒ•ã‚©ãƒ«ãƒ€åˆ†é¡
- âœ… çµ±ä¸€ã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ä½“ç³»
- âœ… ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
- âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™
- âœ… npm scriptsã§ç°¡å˜å®Ÿè¡Œ

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ æ•´ç†** - å®Œäº†
2. ğŸ”„ **ãƒ¬ã‚·ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**
3. ğŸ”„ **OCRé€£æºå®Ÿè£…**
4. ğŸ”„ **çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ**